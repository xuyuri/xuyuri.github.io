title: Python文件处理（一）读写文件
toc: false
date: 2016-01-15 23:48:19
categories: Python
tags: [Python, 文件] 
description: 本文首先介绍如何利用Python进行文件读写操作，最后通过实例讲解基本用法。
---

![](http://7xj5r6.com1.z0.glb.clouddn.com/Python-Logo.png)

本文首先介绍如何利用Python进行文件读写操作，最后通过实例讲解基本用法。
<!-- more -->

## 基础知识
### 打开文件
Python内置了open函数用于打开文件：
```python
file object = open(file_name [, access_mode][, buffering])
参数列表：
file_name：文件名；
access_mode：打开模式，有只读、写入、追加写入等，默认方式为只读；
buffering：文件缓冲，0：不缓冲数据；1：缓冲1行数据；大于1表示缓冲指定行的数据；
access_mode文件打开模式如下：
```

|	模式	 |        描述    |
| :------|    :-------   |
|    r   | 以只读方式打开文件。文件指针处于文件的开头。（默认模式）|
|	rb	 | 以二进制格式打开一个文件用于只读。文件指针处于文件的开头。（默认模式）|
|	r+	 | 以读写方式打开文件。文件指针处于文件的开头。|
|	rb+	 | 以二进制格式打开一个文件用于读写。文件指针处于文件的开头。|
|	w	 | 打开一个文件只用于写入。若该文件已存在则将其覆盖，否则创建新文件。|
|	wb	 | 以二进制格式打开一个文件只用于写入。若该文件已存在则将其覆盖，否则创建新文件。|
|	wb+	 | 以二进制格式打开一个文件用于读写。若该文件已存在则将其覆盖，否则创建新文件。|
|	a	 | 打开一个文件用于追加。若文件已存在，文件指针置于文件结尾。若该文件不存在，创建新文件写入。|
|	ab	 | 以二进制格式打开一个文件用于追加。若文件已存在，文件指针置于文件结尾。若该文件不存在，创建新文件写入。|
|	a+	 | 打开一个文件用于读写。若文件已存在，文件指针置于文件结尾。若该文件不存在，创建新文件写入。|
|	ab+	 | 以二进制格式打开一个文件用于追加。若文件已存在，文件指针置于文件结尾。若该文件不存在，创建新文件写入。|

打开文件后获得文件对象，文件对象的属性列表如下：

|	属性	 |        描述    |
| :------|    :-------   |
| file.closed | 文件是否被关闭，true：是；false：否 |
| file.mode   | 文件被打开的访问模式 |
| file.name   | 文件名称 |

### 关闭文件
不使用的文件对象要使用close()方法及时关闭，文件关闭语法如下：
```
fileObject.close();
```

### 读文件
read()方法从打开的文件中读取字符串，语法如下：
```
fileObject.read([count]);
```
count是要读取的字节数，如果没有传递count参数，则Python会尝试读取尽可能多的内容。
tell()方法显示文件指针当前所处的位置；
seek(offset[, from])方法可以更改当前文件指针位置，参数列表：
offset：要移动的字节数；
from：指定开始移动字节的参考位置，0：文件开头；1：当前位置；2：文件末尾

### 写文件
write()方法可以将字符串写入打开的文件（注意：write不会自动在字符串结尾添加换行符，需要自己手动添加）
```
fileObject.write(string);
```

### 文件重命名
文件重命名和删除文件需要借助os模块，首先要引入os模块：
```
import os
```
os模块是Python访问操作系统功能的主要接口，它提供的功能主要包括删除/重命名文件、遍历目录树以及管理文件访问权限等。
文件重命名函数rename语法如下：
```
os.rename(current_file_name, new_file_name)
```

### 删除文件
同样需要引入os模块，语法如下：
```
os.remove(file_name)
```

### 文件目录
os.path模块提供了可以完成管理和操作文件路径名中的各个部分，获取文件或子目录信息，文件路径查询等操作。
- 创建目录
在当前目录下创建一个新目录test：
```
os.mkdir("test")
```
- 切换目录
从当前目录切换到'/home/test'目录：
```
os.chdir("/home/test")
```
- 删除目录
删除目录'test'：
```
os.rmdir('test')
```
- 获取当前工作目录
```
os.getcwd()
```
- 遍历目录
```
cwd = os.getcwd()
os.listdir(cwd)
```
- 获取文件名
去掉目录路径，返回文件名：
```
os.path.basename(path)
```
- 获取文件路径
去掉文件名，返回目录路径：
```
os.path.dirname(path)
```


## 乱码

## 实战
生成一个array配置文件

Python文件处理（二）读写Excel文件
Python文件处理（三）读写CSV文件
Python正则表达式
Python爬虫之网页抓取
Python爬虫之多线程抓取
————未完待续————